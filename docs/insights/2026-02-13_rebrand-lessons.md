# 리브랜딩 작업 교훈 (2026-02-13)

## 1. 멀티레포 리브랜딩 시 범위를 사전 확인할 것

서버를 전면 리브랜딩(패키지명, 환경변수, GCP 리소스 등 전부 변경)했으나,
서버는 KAIROS 프로젝트 자체이고 모바일 앱 참조만 변경 필요했음.

**교훈**: 멀티레포에서 "리브랜딩"이라 해도 각 레포의 역할과 변경 범위를 사전에 명확히 구분해야 한다.
한쪽은 "제품 이름 변경", 다른 쪽은 "클라이언트 참조 업데이트"일 수 있다.

## 2. `git add -A` 사용 시 민감 파일 주의

`git add -A`로 `.gcloud-tmp/`(인증정보 포함)이 커밋되었음.
push 전에 발견하여 squash로 히스토리에서 제거.

**교훈**: 에이전트에게 커밋을 위임할 때, `.gitignore`에 없는 민감 디렉토리가
untracked로 있을 수 있다. `git status`에서 `??` 항목을 반드시 확인할 것.

## 3. `uv sync` vs `uv sync --all-packages`

`uv sync`만으로는 workspace 멤버 패키지가 설치되지 않는다.
`uv sync --all-packages`를 사용해야 모든 workspace 패키지가 설치됨.

## 4. 디렉토리 이동(rename) 후 머지는 충돌이 많다

패키지 경로 전체를 이동한 브랜치를 머지할 때, 같은 기간에 원래 경로에서
수정된 파일이 있으면 rename/delete 충돌이 대량 발생한다.
가능하면 리브랜딩 브랜치를 빨리 머지하거나, 머지 전에 master를 rebase할 것.
